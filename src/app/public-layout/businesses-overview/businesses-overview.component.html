<div class="container">
  <div class="row">
    <app-navbar></app-navbar>
  </div>

  <div class="row mt-3">
    <app-business-filter [businessTypes]="businessTypes"
                         [predefinedCategories]="predefinedCategories"
                         [cityFilter]="cityFilter"
                         [businessTypeFilter]="businessTypeFilter"
                         [categoryFilter]="categoryFilter"></app-business-filter>
  </div>

  <div class="row mt-4">
    <ng-container *ngIf="!businessTypeFilterString">
      <div>
        <a *ngFor="let businessType of businessTypes" class="btn btn-sm btn-outline-secondary me-2 mb-2"
           (click)="filterByBusinessType(businessType)">
          {{ businessType.title }}
        </a>
      </div>
    </ng-container>

    <ng-container *ngIf="businessTypeFilterString && !categoryFilterString">
      <div>
        <a *ngFor="let category of predefinedCategories" class="btn btn-sm btn-outline-secondary me-2 mb-2"
           (click)="filterByCategory(category)">
          {{ category.title }}
        </a>
      </div>
    </ng-container>
  </div>

  <div class="row">
    <h1 class="mt-3">{{ pageTitle }}</h1>
    <ng-container *ngFor="let business of businesses">
      <div class="d-flex flex-md-row flex-column mt-3">
        <a
          style="color: inherit; text-decoration: none;"
          [routerLink]="formatUrl(business.name)"
        >
          <app-business-profile-summary [business]="business"></app-business-profile-summary>
        </a>
      </div>
    </ng-container>
  </div>
</div>
